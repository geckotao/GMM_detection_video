# 视频画面画面变化检测工具

## 功能介绍

本工具使用GMM（Gaussian Mixture Model）高斯混合模型算法检测视频画面变化率，能够视频画面中的变化并自动截图保存。

## 主要功能

- 支持多种种视频格式（MP4、AVI、MOV、MKV、FLV等）
- 可选择关注区域（ROI），提高检测效率
- 可调整检测参数（变化阈值、截图间隔）
- 支持多倍速处理（丟帧方式），可按需加快分析速度
- 自动保存变化截图（可设截图最小间隔），并详细日志

## 高分辨率显示器适配

本工具原来在1080P分辨率开发，现已针对2K/4K等高分辨率显示器进行了优化，主要改进包括：

1. **动态缩放机制**：
   - 自动检测屏幕DPI和分辨率
   - 根据DPI和分辨率计算合适的缩放因子
   - 2K分辨率(≥2560x1440)使用1.5倍缩放
   - 4K分辨率(≥3840x2160)使用2倍缩放

2. **UI元素自适应**：
   - 窗口大小和位置自动动态调整
   - 字体大小根据控件尺寸按比例缩放
   - 按钮、输入框等控件尺寸自适应
   - 选项卡文字大小同步缩放

3. **布局优化**：
   - 增加内边距和间距的自适应缩放
   - 确保所有控件在高分辨率下完整显示

## 使用说明

1. **添加视频文件**：点击"添加视频文件"按钮，选择一个或多个视频
2. **选择关注区域（可选）**：点击"选择ROI区域"按钮，在预览画面上绘制多边形区域
3. **设置检测参数**：调整画面变化阈值和截图最小间隔
4. **设置保存路径**：选择截图保存位置
5. **开始处理**：点击"开始处理"按钮，程序将自动分析视频
6. **查看结果**：检测到变化时会自动保存截图，可在设置的保存路径中查看

## 注意事项
- 为了加快处理，将视频压缩到480P处理
- 高倍速处理会使用丢帧方式，可能会漏掉快速移动的目标
- 若截图保存失败，请检查磁盘权限或更换保存路径
- 建议根据视频画面特点调整检测参数以获得最佳效果
- 所有操作和错误信息会记录在"检测日志"文件夹中

